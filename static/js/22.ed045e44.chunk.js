/*! For license information please see 22.ed045e44.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloom=self.webpackChunkbloom||[]).push([[22],{22:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(43),n=s(838),a=s(462),c=s(579);const i=()=>{const e=(0,a.Zp)();return(0,c.jsx)("div",{style:{padding:"12px 12px"},children:(0,c.jsx)("button",{className:"back-button",variant:"primary",onClick:()=>e("/suggestions"),children:"Back to Suggestions"})})},l=()=>{const[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(null);(0,r.useEffect)((()=>{!async function(){try{const e=await fetch("/cs378-project/suggestions.json"),s=await e.json();for(const r of Object.values(s)){const e=r.suggestions.find((e=>"listen to calming music"===e.activity));if(e&&e.playlist){t(e.playlist),a(e.playlist[0]);break}}}catch(e){console.error("Failed to load playlist:",e)}}()}),[]);return(0,c.jsxs)("div",{className:"",children:[(0,c.jsx)("h1",{children:"Calming Music"}),(0,c.jsx)("p",{children:"Pick a sound to listen to:"}),s&&(0,c.jsx)("div",{className:"activity-display-box",children:(0,c.jsx)(n.A,{src:`/cs378-project/${s.source}`,title:s.title})}),(0,c.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",width:"85vw",margin:"0 auto"},children:e.map(((e,t)=>(0,c.jsx)("button",{onClick:()=>(e=>{a(e)})(e),className:"playlist-button",children:e.title},t)))}),(0,c.jsx)(i,{})]})}},838:(e,t,s)=>{s.d(t,{A:()=>o});var r=s(43),n=s(784);const a=(0,n.A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),c=(0,n.A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);var i=s(579);const l=e=>{const t=Math.floor(e/60),s=Math.floor(e%60);return`${t}:${s<10?"0":""}${s}`},o=e=>{let{src:t,title:s}=e;const[n,o]=(0,r.useState)(!1),[u,d]=(0,r.useState)(0),[p,h]=(0,r.useState)(0),x=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=setInterval((()=>{x.current&&d(x.current.currentTime)}),1e3);return()=>clearInterval(e)}),[]);return(0,r.useEffect)((()=>{x.current&&(x.current.currentTime=0,o(!1))}),[t]),(0,i.jsxs)("div",{className:"audio-player",children:[(0,i.jsx)("h3",{children:s}),(0,i.jsxs)("div",{className:"audio-controls",children:[(0,i.jsx)("button",{onClick:()=>{n?x.current.pause():x.current.play(),o(!n)},className:"play-button",children:n?(0,i.jsx)(a,{size:24}):(0,i.jsx)(c,{size:24})}),(0,i.jsx)("div",{className:"progress-bar",onClick:e=>{const t=e.nativeEvent.offsetX/e.target.clientWidth*p;x.current.currentTime=t,d(t)},children:(0,i.jsx)("div",{className:"progress",style:{width:u/p*100+"%"}})}),(0,i.jsxs)("div",{className:"timestamps",children:[(0,i.jsx)("span",{children:l(u)})," / ",(0,i.jsx)("span",{children:l(p)})]})]}),(0,i.jsx)("audio",{ref:x,src:t,onTimeUpdate:()=>{d(x.current.currentTime)},onLoadedMetadata:()=>{h(x.current.duration)},onEnded:()=>{x.current.currentTime=0,x.current.play()},loop:!1,children:"Your browser does not support the audio element."})]})}}}]);
//# sourceMappingURL=22.ed045e44.chunk.js.map