"use strict";(self.webpackChunkbloom=self.webpackChunkbloom||[]).push([[124],{124:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(43),n=s(579);const a=e=>{const t=Math.floor(e/60),s=Math.floor(e%60);return`${t}:${s<10?"0":""}${s}`},c=e=>{let{src:t,title:s}=e;const[c,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(0),[u,d]=(0,r.useState)(0),p=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=setInterval((()=>{p.current&&o(p.current.currentTime)}),1e3);return()=>clearInterval(e)}),[]);return(0,r.useEffect)((()=>{p.current&&(p.current.currentTime=0,l(!1))}),[t]),(0,n.jsxs)("div",{className:"audio-player",children:[(0,n.jsx)("h3",{children:s}),(0,n.jsxs)("div",{className:"audio-controls",children:[(0,n.jsx)("button",{onClick:()=>{c?p.current.pause():p.current.play(),l(!c)},className:"play-button",children:c?(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:"&#x23F8;"}}):(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:"&#x25B6;"}})}),(0,n.jsx)("div",{className:"progress-bar",onClick:e=>{const t=e.nativeEvent.offsetX/e.target.clientWidth*u;p.current.currentTime=t,o(t)},children:(0,n.jsx)("div",{className:"progress",style:{width:i/u*100+"%"}})}),(0,n.jsxs)("div",{className:"timestamps",children:[(0,n.jsx)("span",{children:a(i)})," / ",(0,n.jsx)("span",{children:a(u)})]})]}),(0,n.jsx)("audio",{ref:p,src:t,onTimeUpdate:()=>{o(p.current.currentTime)},onLoadedMetadata:()=>{d(p.current.duration)},onEnded:()=>{p.current.currentTime=0,p.current.play()},loop:!1,children:"Your browser does not support the audio element."})]})},l=()=>{const[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(null);(0,r.useEffect)((()=>{!async function(){try{const e=await fetch("/cs378-project/suggestions.json"),s=await e.json();for(const r of Object.values(s)){const e=r.suggestions.find((e=>"meditation"===e.activity));if(e&&e.playlist){t(e.playlist),a(e.playlist[0]);break}}}catch(e){console.error("Failed to load playlist:",e)}}()}),[]);return(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h1",{children:"Meditation"}),(0,n.jsx)("p",{children:"Pick a sound to meditate to:"}),s&&(0,n.jsx)("div",{className:"activity-display-box",children:(0,n.jsx)(c,{src:`/cs378-project/${s.source}`,title:s.title})}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",width:"85vw",margin:"0 auto"},children:e.map(((e,t)=>(0,n.jsx)("button",{onClick:()=>(e=>{a(e)})(e),className:"playlist-button",children:e.title},t)))})]})}}}]);
//# sourceMappingURL=124.c9c64cbb.chunk.js.map