{"version":3,"file":"static/js/865.f2f3522a.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/pause.ts","../node_modules/lucide-react/src/icons/play.ts","components/AudioPlayer.js","pages/activities/meditation.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { x: '14', y: '4', width: '4', height: '16', rx: '1', key: 'zuxfzm' }],\n  ['rect', { x: '6', y: '4', width: '4', height: '16', rx: '1', key: '1okwgv' }],\n];\n\n/**\n * @component @name Pause\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB4PSIxNCIgeT0iNCIgd2lkdGg9IjQiIGhlaWdodD0iMTYiIHJ4PSIxIiAvPgogIDxyZWN0IHg9IjYiIHk9IjQiIHdpZHRoPSI0IiBoZWlnaHQ9IjE2IiByeD0iMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pause\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pause = createLucideIcon('pause', __iconNode);\n\nexport default Pause;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['polygon', { points: '6 3 20 12 6 21 6 3', key: '1oa8hb' }]];\n\n/**\n * @component @name Play\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjYgMyAyMCAxMiA2IDIxIDYgMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/play\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Play = createLucideIcon('play', __iconNode);\n\nexport default Play;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { Play, Pause } from 'lucide-react';\n\n\nconst CustomAudioPlayer = ({ src, title }) => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const audioRef = useRef(null);\n\n  // Toggle play/pause button\n  const togglePlay = () => {\n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  };\n\n  const updateTime = () => {\n    setCurrentTime(audioRef.current.currentTime);\n  };\n\n  const handleLoadedMetadata = () => {\n    setDuration(audioRef.current.duration);\n  };\n\n  // Update the progress bar\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (audioRef.current) {\n        setCurrentTime(audioRef.current.currentTime);\n      }\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleSeek = (e) => {\n    const newTime = (e.nativeEvent.offsetX / e.target.clientWidth) * duration;\n    audioRef.current.currentTime = newTime;\n    setCurrentTime(newTime);\n  };\n\n  const handleTrackEnd = () => {\n    audioRef.current.currentTime = 0;\n    audioRef.current.play();\n  };\n\n  // reset the play/pause button when the song changes\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.currentTime = 0; \n      setIsPlaying(false); \n    }\n  }, [src]);\n\n  return (\n    <div className=\"audio-player\">\n      <h3>{title}</h3>\n\n      <div className=\"audio-controls\">\n        <button onClick={togglePlay} className=\"play-button\">\n        {isPlaying ? <Pause size={24} /> : <Play size={24} />}\n        </button>\n\n        <div className=\"progress-bar\" onClick={handleSeek}>\n          <div\n            className=\"progress\"\n            style={{ width: `${(currentTime / duration) * 100}%` }}\n          />\n        </div>\n\n        <div className=\"timestamps\">\n          <span>{formatTime(currentTime)}</span> / <span>{formatTime(duration)}</span>\n        </div>\n      </div>\n\n      <audio\n        ref={audioRef}\n        src={src}\n        onTimeUpdate={updateTime}\n        onLoadedMetadata={handleLoadedMetadata}\n        onEnded={handleTrackEnd} // Handle track ending\n        loop={false} // Disable default loop to handle looping manually\n      >\n        Your browser does not support the audio element.\n      </audio>\n    </div>\n  );\n};\n\n// Format time in mm:ss\nconst formatTime = (time) => {\n  const minutes = Math.floor(time / 60);\n  const seconds = Math.floor(time % 60);\n  return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n};\n\nexport default CustomAudioPlayer;\n","import React, { useEffect, useState } from 'react';\nimport CustomAudioPlayer from '../../components/AudioPlayer';\nimport CompleteButton from '../../components/CompleteButton';\nimport BackButton from '../../components/SuggestionButton';\n\nconst Meditation = () => {\n  const [playlist, setPlaylist] = useState([]);\n  const [currentTrack, setCurrentTrack] = useState(null); // For current track display\n\n  useEffect(() => {\n    async function fetchSuggestions() {\n      try {\n        const response = await fetch('/cs378-project/suggestions.json');\n        const data = await response.json();\n\n        // Search all emotions for the meditation activity\n        for (const emotion of Object.values(data)) {\n          const meditation = emotion.suggestions.find(s => s.activity === 'meditation');\n          if (meditation && meditation.playlist) {\n            setPlaylist(meditation.playlist);\n            setCurrentTrack(meditation.playlist[0]); // Start with first track\n            break;\n          }\n        }\n      } catch (err) {\n        console.error('Failed to load playlist:', err);\n      }\n    }\n\n    fetchSuggestions();\n  }, []);\n\n  const handleTrackChange = (track) => {\n    setCurrentTrack(track);\n  };\n\n  return (\n    <div className=''>\n      <h1>Meditation</h1>\n      <p>Pick a sound to meditate to:</p>\n\n      {currentTrack && (\n        <div className=\"activity-display-box\">\n        <CustomAudioPlayer \n          src={`/cs378-project/${currentTrack.source}`} \n          title={currentTrack.title}\n          className=\"audio-player\"\n        />\n        </div>\n      )}\n\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '10px', width: '85vw', margin: '0 auto'}}>\n        {playlist.map((track, index) => (\n          <button\n            key={index}\n            onClick={() => handleTrackChange(track)}\n            className=\"playlist-button\">\n            {track.title}\n          </button>\n        ))}\n      </div>\n      {/* <CompleteButton/> */}\n      <BackButton/>\n    </div>\n  );\n};\n\nexport default Meditation;\n"],"names":["Pause","createLucideIcon","x","y","width","height","rx","key","Play","points","formatTime","time","minutes","Math","floor","seconds","_ref","src","title","isPlaying","setIsPlaying","useState","currentTime","setCurrentTime","duration","setDuration","audioRef","useRef","useEffect","interval","setInterval","current","clearInterval","_jsxs","className","children","_jsx","onClick","togglePlay","pause","play","size","e","newTime","nativeEvent","offsetX","target","clientWidth","style","ref","onTimeUpdate","updateTime","onLoadedMetadata","handleLoadedMetadata","onEnded","handleTrackEnd","loop","Meditation","playlist","setPlaylist","currentTrack","setCurrentTrack","async","response","fetch","data","json","emotion","Object","values","meditation","suggestions","find","s","activity","err","console","error","fetchSuggestions","CustomAudioPlayer","source","display","gridTemplateColumns","gap","margin","map","track","index","handleTrackChange","BackButton"],"sourceRoot":""}