/*! For license information please see 865.f2f3522a.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloom=self.webpackChunkbloom||[]).push([[865],{434:(e,t,s)=>{s(43),s(579)},838:(e,t,s)=>{s.d(t,{A:()=>o});var r=s(43),a=s(784);const n=(0,a.A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),c=(0,a.A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);var i=s(579);const l=e=>{const t=Math.floor(e/60),s=Math.floor(e%60);return`${t}:${s<10?"0":""}${s}`},o=e=>{let{src:t,title:s}=e;const[a,o]=(0,r.useState)(!1),[u,d]=(0,r.useState)(0),[p,h]=(0,r.useState)(0),m=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=setInterval((()=>{m.current&&d(m.current.currentTime)}),1e3);return()=>clearInterval(e)}),[]);return(0,r.useEffect)((()=>{m.current&&(m.current.currentTime=0,o(!1))}),[t]),(0,i.jsxs)("div",{className:"audio-player",children:[(0,i.jsx)("h3",{children:s}),(0,i.jsxs)("div",{className:"audio-controls",children:[(0,i.jsx)("button",{onClick:()=>{a?m.current.pause():m.current.play(),o(!a)},className:"play-button",children:a?(0,i.jsx)(n,{size:24}):(0,i.jsx)(c,{size:24})}),(0,i.jsx)("div",{className:"progress-bar",onClick:e=>{const t=e.nativeEvent.offsetX/e.target.clientWidth*p;m.current.currentTime=t,d(t)},children:(0,i.jsx)("div",{className:"progress",style:{width:u/p*100+"%"}})}),(0,i.jsxs)("div",{className:"timestamps",children:[(0,i.jsx)("span",{children:l(u)})," / ",(0,i.jsx)("span",{children:l(p)})]})]}),(0,i.jsx)("audio",{ref:m,src:t,onTimeUpdate:()=>{d(m.current.currentTime)},onLoadedMetadata:()=>{h(m.current.duration)},onEnded:()=>{m.current.currentTime=0,m.current.play()},loop:!1,children:"Your browser does not support the audio element."})]})}},865:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var r=s(43),a=s(838),n=(s(434),s(717)),c=s(579);const i=()=>{const[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(null);(0,r.useEffect)((()=>{!async function(){try{const e=await fetch("/cs378-project/suggestions.json"),s=await e.json();for(const r of Object.values(s)){const e=r.suggestions.find((e=>"meditation"===e.activity));if(e&&e.playlist){t(e.playlist),i(e.playlist[0]);break}}}catch(e){console.error("Failed to load playlist:",e)}}()}),[]);return(0,c.jsxs)("div",{className:"",children:[(0,c.jsx)("h1",{children:"Meditation"}),(0,c.jsx)("p",{children:"Pick a sound to meditate to:"}),s&&(0,c.jsx)("div",{className:"activity-display-box",children:(0,c.jsx)(a.A,{src:`/cs378-project/${s.source}`,title:s.title,className:"audio-player"})}),(0,c.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",width:"85vw",margin:"0 auto"},children:e.map(((e,t)=>(0,c.jsx)("button",{onClick:()=>(e=>{i(e)})(e),className:"playlist-button",children:e.title},t)))}),(0,c.jsx)(n.A,{})]})}}}]);
//# sourceMappingURL=865.f2f3522a.chunk.js.map