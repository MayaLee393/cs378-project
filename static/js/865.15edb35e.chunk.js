/*! For license information please see 865.15edb35e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloom=self.webpackChunkbloom||[]).push([[865],{340:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(784).A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},434:(e,t,s)=>{s.d(t,{A:()=>a});s(43);var r=s(462),n=s(579);const a=()=>{const e=(0,r.Zp)();return(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:"next-button m-2",onClick:()=>{e("/completed")},children:"I'm Done"})})}},830:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(784).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},865:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(43),n=s(910),a=s(434),l=(s(717),s(460)),o=s(579);const c=()=>{const[e,t]=(0,r.useState)([]),[s,c]=(0,r.useState)([]),[i,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{!async function(){try{const e=await fetch("/cs378-project/suggestions.json"),s=await e.json();for(const r of Object.values(s)){const e=r.suggestions.find((e=>"meditation"===e.activity));if(e){e.playlist&&(t(e.playlist),u(e.playlist[0])),e.walkthroughs&&(c(e.walkthroughs),h(e.walkthroughs[0]));break}}}catch(e){console.error("Failed to load suggestions:",e)}}()}),[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.A,{percentage:70}),(0,o.jsxs)("div",{className:"page",children:[(0,o.jsx)("h1",{children:"Meditation Tracks"}),(0,o.jsx)("p",{children:"First, pick a track to meditate to:"}),i&&(0,o.jsx)("div",{className:"activity-display-box",children:(0,o.jsx)(n.A,{src:`/cs378-project/${i.source}`,title:i.title,className:"audio-player"})}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",width:"85vw",margin:"0 auto"},children:e.map(((e,t)=>(0,o.jsx)("button",{onClick:()=>(e=>{u(e)})(e),className:"playlist-button",children:e.title},t)))}),(0,o.jsx)("h2",{className:"mt-2",children:"Guided Walkthroughs"}),(0,o.jsx)("p",{children:"Next, select a track to guide you:"}),d&&(0,o.jsx)("div",{className:"activity-display-box",children:(0,o.jsx)(n.A,{src:d.source,title:d.title,className:"audio-player"})}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",width:"85vw",margin:"0 auto"},children:s.map(((e,t)=>(0,o.jsx)("button",{onClick:()=>(e=>{h(e)})(e),className:"playlist-button",children:e.title},t)))}),(0,o.jsx)(a.A,{})]})]})}},910:(e,t,s)=>{s.d(t,{A:()=>c});var r=s(43),n=s(340),a=s(830),l=s(579);const o=e=>{const t=Math.floor(e/60),s=Math.floor(e%60);return`${t}:${s<10?"0":""}${s}`},c=e=>{let{src:t,title:s}=e;const[c,i]=(0,r.useState)(!1),[u,d]=(0,r.useState)(0),[h,m]=(0,r.useState)(0),[p,x]=(0,r.useState)(1),[g,j]=(0,r.useState)(100),y=(0,r.useRef)(null),v=(0,r.useRef)(null),f=(0,r.useRef)(null),w=t.includes("soundcloud.com");(0,r.useEffect)((()=>{w&&v.current&&window.SC&&(f.current=window.SC.Widget(v.current),f.current.bind(window.SC.Widget.Events.READY,(()=>{console.log("SoundCloud widget ready"),f.current.setVolume(g)})),f.current.bind(window.SC.Widget.Events.PLAY,(()=>{i(!0)})),f.current.bind(window.SC.Widget.Events.PAUSE,(()=>{i(!1)})))}),[t,w,g]),(0,r.useEffect)((()=>{!w&&y.current&&(y.current.volume=p)}),[p,w]);return(0,r.useEffect)((()=>{!w&&y.current&&(y.current.currentTime=0,i(!1))}),[t,w]),(0,l.jsxs)("div",{className:"audio-player",children:[(0,l.jsx)("h3",{children:s}),w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("iframe",{ref:v,width:"100%",height:"166",scrolling:"no",frameBorder:"no",allow:"autoplay",src:`https://w.soundcloud.com/player/?url=${encodeURIComponent(t)}&color=%2349BA29&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true`,title:"SoundCloud Player"}),(0,l.jsxs)("div",{className:"volume-control mt-1",children:[(0,l.jsxs)("label",{children:["Volume: ",g,"%"]}),(0,l.jsx)("input",{className:"volume-slider",type:"range",min:"0",max:"100",step:"1",value:g,style:{"--value":`${g}%`},onChange:e=>{const t=parseInt(e.target.value,10);j(t),f.current&&f.current.setVolume(t)}})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"audio-controls",children:[(0,l.jsx)("button",{onClick:()=>{w||y.current&&(c?y.current.pause():y.current.play(),i(!c))},className:"play-button",children:c?(0,l.jsx)(n.A,{size:24}):(0,l.jsx)(a.A,{size:24})}),(0,l.jsx)("div",{className:"progress-bar",onClick:e=>{if(y.current){const t=e.nativeEvent.offsetX/e.target.clientWidth*h;y.current.currentTime=t,d(t)}},children:(0,l.jsx)("div",{className:"progress",style:{width:u/h*100+"%"}})}),(0,l.jsxs)("div",{className:"timestamps",children:[(0,l.jsx)("span",{children:o(u)})," / ",(0,l.jsx)("span",{children:o(h)})]})]}),(0,l.jsxs)("div",{className:"volume-control mt-1",children:[(0,l.jsxs)("label",{children:["Volume: ",Math.round(100*p),"%"]}),(0,l.jsx)("input",{className:"volume-slider",type:"range",min:"0",max:"1",step:"0.01",value:p,style:{"--value":100*p+"%"},onChange:e=>x(parseFloat(e.target.value))})]}),(0,l.jsx)("audio",{ref:y,src:t,onTimeUpdate:()=>{y.current&&d(y.current.currentTime)},onLoadedMetadata:()=>{y.current&&m(y.current.duration)},onEnded:()=>{y.current&&(y.current.currentTime=0,y.current.play())},loop:!1,children:"Your browser does not support the audio element."})]})]})}}}]);
//# sourceMappingURL=865.15edb35e.chunk.js.map